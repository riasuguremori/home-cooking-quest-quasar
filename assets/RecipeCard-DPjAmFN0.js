import{Q as v}from"./QChip-X1ikjzpS.js";import{Q}from"./QImg-48OQTr1V.js";import{Q as C}from"./QRating-Bnr8WG8o.js";import{p as n,h as p,o as i,j as r,e as o,c as b,a as l,r as $,M as u,t as a,$ as z,b as t,L as B,N as M,n as N,O as S,Q as A,a0 as D}from"./index-CCltDTcc.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={key:0,class:"absolute-top-left q-pa-none bg-transparent"},V={key:1,class:"absolute-top-right q-pa-none bg-transparent"},j={class:"text-h6 text-weight-bold q-mb-xs ellipsis text-grey-9"},I={class:"row items-center q-mb-sm"},U={class:"row items-center q-gutter-x-md text-grey-6 text-caption q-mb-md"},L={class:"row items-center"},T={class:"row items-center q-gutter-x-md text-grey-6 text-caption q-mb-md"},E={class:"row items-center"},F={class:"row items-center"},G=["src"],H={class:"text-weight-medium text-caption text-grey-8"},J={__name:"RecipeCard",props:{recipe:{type:Object,required:!0}},emits:["click"],setup(h){const e=h,y=c=>{if(!c)return"";const s=new Date(c),x=Math.floor((new Date-s)/1e3);if(x<60)return"剛剛";const d=Math.floor(x/60);if(d<60)return`${d} 分鐘前`;const m=Math.floor(d/60);if(m<24)return`${m} 小時前`;const w=Math.floor(m/24);return w<30?`${w} 天前`:s.toLocaleDateString()},g=n(()=>e.recipe.isOfficial?"官方推薦":""),f=n(()=>e.recipe.isUnlocked?"Free":""),_=n(()=>e.recipe.badgeColor||"positive"),q=n(()=>y(e.recipe.createdAt));return(c,s)=>(i(),p(D,{class:"rounded-xl no-shadow full-height column relative-position overflow-hidden hover-card bg-white cursor-pointer",onClick:s[0]||(s[0]=k=>c.$emit("click",h.recipe._id))},{default:r(()=>[o(Q,{src:e.recipe.imageUrl,ratio:4/3,class:"col-grow"},{default:r(()=>[g.value?(i(),b("div",R,[e.recipe.isOfficial?(i(),p(v,{key:0,color:_.value,"text-color":"white",size:"sm",class:"q-ma-md text-weight-bold text-uppercase shadow-2"},{default:r(()=>[u(a(g.value),1)]),_:1},8,["color"])):l("",!0)])):l("",!0),f.value?(i(),b("div",V,[e.recipe.isUnlocked?(i(),p(v,{key:0,color:_.value,"text-color":"white",size:"sm",class:"q-ma-md text-weight-bold text-uppercase shadow-2"},{default:r(()=>[u(a(f.value),1)]),_:1},8,["color"])):l("",!0)])):l("",!0),$(c.$slots,"image-overlay",{},void 0,!0)]),_:3},8,["src"]),o(z,{class:"q-pa-md"},{default:r(()=>[t("div",j,a(e.recipe.name),1),t("div",I,[s[1]||(s[1]=t("span",{class:"text-caption text-grey-7 q-mr-sm"},"難易度",-1)),o(C,{"model-value":e.recipe.rating,max:"5",size:"1.5em",color:"orange",icon:"star_border","icon-selected":"star",readonly:""},null,8,["model-value"])]),t("div",U,[t("div",L,[o(B,{name:"schedule",class:"q-mr-xs text-orange-8"}),u(" "+a(q.value),1)])]),t("div",T,[t("div",E,a(`瀏覽數：${e.recipe.views}`),1)]),o(M,{class:"q-mb-md bg-grey-2"}),t("div",{class:N(["row items-center justify-between",{"opacity-50":e.recipe.locked}])},[t("div",F,[o(S,{size:"28px",class:"q-mr-sm shadow-1"},{default:r(()=>[t("img",{src:`https://api.dicebear.com/9.x/thumbs/svg?seed=${e.recipe.author?.account||"default"}`},null,8,G)]),_:1}),t("span",H,a(e.recipe.author?.account||"匿名"),1)]),o(A,{flat:"",round:"",color:"primary",icon:"arrow_forward",size:"sm",class:"bg-orange-1"})],2)]),_:1})]),_:3}))}},Z=O(J,[["__scopeId","data-v-1103ad97"]]);export{Z as R};
