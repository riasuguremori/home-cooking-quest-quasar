import{z as u,p as q,c as r,o as n,b as o,e as a,at as k,j as v,S as C,n as x,Q as b,F as g,i as y,L as d,J as R}from"./index-CCltDTcc.js";import{r as A}from"./recipe-CWeHbSy1.js";import{u as $}from"./use-quasar-CUmE3VzD.js";import{R as Q}from"./RecipeCard-DPjAmFN0.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-X1ikjzpS.js";import"./QImg-48OQTr1V.js";import"./QRating-Bnr8WG8o.js";import"./format-hlGAdIUH.js";const B={class:"q-pa-md q-pa-lg-xl"},I={class:"column flex-center q-mb-xl text-center"},L={class:"row items-center full-width q-gutter-sm",style:{"max-width":"600px"}},S={class:"row justify-center q-gutter-sm q-mb-xl"},z={key:0,class:"row q-col-gutter-lg"},P={key:1,class:"text-center q-py-xl text-grey-5"},j={__name:"recipePage",setup(F){const i=u(""),l=u("All"),c=u([]),f=R(),p=$(),h=s=>{if(!s){p.notify({type:"negative",message:"無法取得食譜",icon:"report_problem"});return}f.push(`/recipes/${s}`)},w=[{label:"中式",icon:"dinner_dining"},{label:"日式",icon:"ramen_dining"},{label:"西式",icon:"restaurant"},{label:"甜點",icon:"icecream"},{label:"其他",icon:"category"}];(async()=>{try{const{data:s}=await A.getPublicRecipes();c.value=s.result}catch(s){console.log(s),p.notify({color:"negative",message:"無法取得食譜",icon:"report_problem",position:"bottom"})}})();const m=q(()=>c.value?c.value.filter(s=>{const t=s.name.toLowerCase().includes(i.value.toLowerCase()),e=l.value==="All"||s.category===l.value;return t&&e}):[]);return(s,t)=>(n(),r("div",B,[o("div",I,[t[3]||(t[3]=o("div",{class:"text-h4 text-weight-bolder text-grey-9 q-mb-md"},"探索美味食譜",-1)),t[4]||(t[4]=o("div",{class:"text-grey-6 q-mb-lg",style:{"max-width":"500px"}}," 輸入關鍵字或選擇分類，尋找你的下一道料理靈感 ",-1)),o("div",L,[a(C,{dense:"",borderless:"",modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),placeholder:"搜尋食譜",class:"search-input col","input-class":"q-px-md text-grey-8"},k({prepend:v(()=>[a(d,{name:"search",class:"q-pl-md text-primary"})]),_:2},[i.value?{name:"append",fn:v(()=>[a(d,{name:"close",onClick:t[0]||(t[0]=e=>i.value=""),class:"cursor-pointer q-pr-md"})]),key:"0"}:void 0]),1032,["modelValue"])])]),o("div",S,[a(b,{unelevated:"",rounded:"",color:l.value==="All"?"primary":"white","text-color":l.value==="All"?"white":"grey-9",label:"所有食譜",class:x(["q-px-lg transition-btn",l.value==="All"?"shadow-3":"shadow-1"]),onClick:t[2]||(t[2]=e=>l.value="All")},null,8,["color","text-color","class"]),(n(),r(g,null,y(w,e=>a(b,{key:e.label,unelevated:"",rounded:"",color:l.value===e.label?"primary":"white","text-color":l.value===e.label?"white":"grey-9",icon:e.icon,label:e.label,class:x(["q-px-md transition-btn",l.value===e.label?"shadow-3":"shadow-1"]),onClick:_=>l.value=e.label},null,8,["color","text-color","icon","label","class","onClick"])),64))]),m.value.length>0?(n(),r("div",z,[(n(!0),r(g,null,y(m.value,e=>(n(),r("div",{class:"col-12 col-sm-6 col-md-3",key:e._id},[a(Q,{recipe:e,onClick:_=>h(e._id)},null,8,["recipe","onClick"])]))),128))])):(n(),r("div",P,[a(d,{name:"soup_kitchen",size:"64px",class:"q-mb-md"}),t[5]||(t[5]=o("div",{class:"text-h6"},"找不到符合的食譜",-1)),t[6]||(t[6]=o("div",null,"試試看其他的關鍵字或是分類吧！",-1))]))]))}},T=V(j,[["__scopeId","data-v-1af15d42"]]);export{T as default};
